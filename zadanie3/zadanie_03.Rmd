---
title: "Tytuł: zadanie_03"
author: "Autor: Aleksandra Gomolka"
date: "Data: `r Sys.Date()`"
output: html_document
---
# Rozdzial 
Ala ma kota Wykres o generacji zrodel wiatrowych i fotowoltaicznych dla danych za ostatnie 7 dni


## Podrozdzial - jak wstawic *coś* z **R**




```{r, echo=F, results="asis" , fig.height=5, fig.width=10, fig.cap="Podpis obrazka"}
  library(ggplot2)
  dates <- lapply(gsub("-","",as.character(seq(from=Sys.Date()-6,to=Sys.Date(),by="1 day"))),function(d){d})

  download.file(url=paste("https://www.pse.pl/getcsv/-/export/csv/PL_GEN_WIATR/data/", dates[1][1], sep=""),
              destfile=paste(dates[1][1],".csv",sep=""), method="curl")
  d <- read.table(file=paste( dates[1][1], ".csv", sep=""), sep=";",dec=",",header=T,fileEncoding="CP1250")
  
  for(date in dates[c(2:length(dates))]){
    download.file(url=paste("https://www.pse.pl/getcsv/-/export/csv/PL_GEN_WIATR/data/",date[1],sep=""),
                  destfile=paste(date[1],".csv",sep=""), method="curl")
    
    d_temp <- read.table(file=paste(date[1], ".csv", sep=""), sep=";",dec=",",header=T,fileEncoding="CP1250")
    d <- rbind(d, setNames(d_temp, names(d_temp)))
  }
  #print(table(d$Godzina))
  d$Godzina <- as.integer(d$Godzina)
  d$Timestamp <- as.POSIXct(paste0(d$Data," ",d$Godzina-1,":00:00"),tz="GMT")
  #print(head(d))
  #print(tail(d))
  
  d <- d[order(d$Timestamp),]
  #print(head(d))
  #print(tail(d))
  
  plot(x=d$Timestamp,y=d$Generacja.źródeł.wiatrowych,xlab="",ylab="",main="eee")
  lines(x=d$Timestamp,y=d$Generacja.źródeł.fotowoltaicznych,col="red")
  
  
  img <- ( 
    ggplot(d,aes(x=Timestamp,y=Generacja.źródeł.fotowoltaicznych)) 
    + 
      xlab("Czas") 
    +
      geom_line() 
    + 
      geom_point() 
    + 
      geom_smooth()
  )
  print(img)
  

```
# Rozdzial 
Tabela z danymi. Tabela powinna miec kolumny: Timestamp;Wiatr;PV; 
#     Tabelka ma zawierac sie w osobnym rozdziale raportu.


## Podrozdzial - jak wstawic *coś* z **R**

Here's item